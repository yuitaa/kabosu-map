function positionToLatLng(o,a){return L.latLng([a/-8,o/8])}function drawMultipleLines(o,a){o.forEach(o=>{o.position=o.position.map(o=>positionToLatLng(o[0],o[1])),L.polyline([o.position],{color:o.color||"#ffffff",weight:o.weight||4,opacity:o.opacity||.7,pane:a}).addTo(map)})}function setMarkers(o,a,t){o.forEach(o=>{let n=L.marker(positionToLatLng(...o.position),{pane:a});o.tooltip&&n.bindTooltip(o.tooltip,{direction:"bottom"}),t&&n.setIcon(icons[t]),n.addTo(map)})}var map,icons={};fetch("./data/icons.json").then(o=>o.json()).then(o=>o.forEach(o=>{icons[o]=L.icon({iconUrl:o,iconSize:[24,24]})})),window.onload=(()=>{map=L.map("map",{crs:L.CRS.Simple,maxzoom:0,minzoom:0});let o=[[0,0],[4096,4096]];map.fitBounds(o);for(let o=-10;o<=9;o++)for(let a=-9;a<=10;a++)L.imageOverlay(`./../img/tiles/zzzzzz_${64*o}_${64*a}.jpg`,[[128*(a-1),128*o],[128*a,128*(o+1)]]).addTo(map);map.createPane("markers"),map.setView([0,0]),map.zoomControl.setPosition("bottomright"),fetch("./data/markers.json").then(o=>o.json()).then(o=>o.forEach(o=>{"multipleLines"==o.type&&(o.pane&&map.createPane(o.pane),drawMultipleLines(o.data,o.pane||"markers")),"icons"==o.type&&(o.pane&&map.createPane(o.pane),setMarkers(o.data,o.pane||"markers",o.icon))}))});